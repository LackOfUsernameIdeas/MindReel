import { FilteredBrainData } from "@/container/types_common";
import { MoviesSeriesUserPreferences } from "./moviesSeriesRecommendations-types";

export const moodOptions = [
  "–†–∞–∑–≤—ä–ª–Ω—É–≤–∞–Ω/-–Ω–∞ üòÑ",
  "–õ—é–±–æ–ø–∏—Ç–µ–Ω/-–Ω–∞ ü§î",
  "–¢—ä–∂–µ–Ω/-–Ω–∞ üò¢",
  "–©–∞—Å—Ç–ª–∏–≤/-–∞ üòä",
  "–°–ø–æ–∫–æ–µ–Ω/-–π–Ω–∞ üòå",
  "–†–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω/-–Ω–∞ üòû",
  "–£–º–æ—Ä–µ–Ω/-–Ω–∞ üò¥",
  "–ù–µ—Ä–≤–µ–Ω/-–Ω–∞ üòü",
  "–†–∞–∑–≥–Ω–µ–≤–µ–Ω/-–Ω–∞ üò†",
  "–°—Ç—Ä–µ—Å–∏—Ä–∞–Ω/-–Ω–∞ üò∞",
  "–ù–æ—Å—Ç–∞–ª–≥–∏—á–µ–Ω/-–Ω–∞ üò≠",
  "–ë–µ–∑—Ä–∞–∑–ª–∏—á–µ–Ω/-–Ω–∞ üòê",
  "–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–µ–Ω/-–Ω–∞ üòÉ",
  "–ü–µ—Å–∏–º–∏—Å—Ç–∏—á–µ–Ω/-–Ω–∞ üòî",
  "–í–µ—Å–µ–ª/-–∞ üòÅ",
  "–°–º—É—Ç–µ–Ω/-–Ω–∞ üò≥",
  "–û–∑–∞–¥–∞—á–µ–Ω/-–Ω–∞ ü§®",
  "–†–∞–∑—Ç—Ä–µ–≤–æ–∂–µ–Ω/-–Ω–∞ üòß",
  "–í–¥—ä—Ö–Ω–æ–≤–µ–Ω/-–Ω–∞ ‚ú®"
];

export const timeAvailabilityOptions = [
  "1 —á–∞—Å",
  "2 —á–∞—Å–∞",
  "3 —á–∞—Å–∞",
  "–ù—è–º–∞–º –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∏—è"
];

export const ageOptions = [
  "–ü—É–±–ª–∏–∫—É–≤–∞–Ω –≤ –ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ 3 –≥–æ–¥–∏–Ω–∏",
  "–ü—É–±–ª–∏–∫—É–≤–∞–Ω –≤ –ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ 10 –≥–æ–¥–∏–Ω–∏",
  "–ü—É–±–ª–∏–∫—É–≤–∞–Ω –≤ –ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ 20 –≥–æ–¥–∏–Ω–∏",
  "–ù—è–º–∞–º –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∏—è"
];

export const pacingOptions = [
  "–ë–∞–≤–Ω–∏, –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞—â–∏ —Å–µ –≤—ä—Ä—Ö—É —Ä–∞–∑–∫–∞–∑–∏ –Ω–∞ –≥–µ—Ä–æ–∏—Ç–µ",
  "–ë—ä—Ä–∑–∏ —Å –º–Ω–æ–≥–æ –Ω–∞–ø—Ä–µ–∂–µ–Ω–∏–µ",
  "–ù—è–º–∞–º –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∏—è"
];
export const depthOptions = [
  "–õ–µ—Å–Ω–∏ –∑–∞ –ø—Ä–æ—Å–ª–µ–¥—è–≤–∞–Ω–µ - —Ä–µ–ª–∞–∫—Å–∏—Ä–∞—â–∏",
  "–°—Ä–µ–¥–Ω–∏ - —Å —è—Å–Ω–∏ —Å—é–∂–µ—Ç–Ω–∏ –ª–∏–Ω–∏–∏",
  "–¢—Ä—É–¥–Ω–∏ - —Å –º–Ω–æ–≥–æ –∏—Å—Ç–æ—Ä–∏–∏ –∏ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–∏ –∑–∞ —Ñ–∏–ª–º–∞/—Å–µ—Ä–∏–∞–ª–∞",
  "–ù—è–º–∞–º –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∏—è"
];

export const targetGroupOptions = [
  "–î–µ—Ü–∞",
  "–¢–∏–π–Ω–µ–π–¥–∂—ä—Ä–∏",
  "–í—ä–∑—Ä–∞—Å—Ç–Ω–∏",
  "–°–µ–º–µ–π–Ω–∏",
  "–°–µ–º–µ–π—Å—Ç–≤–æ –∏ –¥–µ—Ü–∞",
  "–í—ä–∑—Ä–∞—Å—Ç–Ω–∏ –Ω–∞–¥ 65"
];

export const openAIKey = import.meta.env.VITE_OPENAI_API_KEY;

export const moviesSeriesStandardPreferencesPrompt = (
  userPreferences: MoviesSeriesUserPreferences
) => {
  const {
    recommendationType,
    genres,
    moods,
    timeAvailability,
    age,
    actors,
    directors,
    interests,
    countries,
    pacing,
    depth,
    targetGroup
  } = userPreferences;

  const typeText = recommendationType === "–§–∏–ª–º" ? "—Ñ–∏–ª–º–∞" : "—Å–µ—Ä–∏–∞–ª–∞";

  return {
    model: "gpt-4o-2024-08-06",
    messages: [
      {
        role: "system",
        content: `You are an AI that recommends movies and series based on user preferences. Provide a list of movies and series, based on what the user has chosen to watch (movie or series), that match the user's taste and preferences, formatted in Bulgarian, with detailed justifications. Return the result in JSON format as instructed.`
      },
      {
        role: "user",
        content: `–ü—Ä–µ–ø–æ—Ä—ä—á–∞–π –º–∏ 5 ${typeText} –∑–∞ –≥–ª–µ–¥–∞–Ω–µ, –∫–æ–∏—Ç–æ –ó–ê–î–™–õ–ñ–ò–¢–ï–õ–ù–û –¥–∞ —Å—ä–≤–ø–∞–¥–∞—Ç —Å –º–æ–∏—Ç–µ –≤–∫—É—Å–æ–≤–µ –∏ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∏—è, –∞ –∏–º–µ–Ω–Ω–æ:
              –õ—é–±–∏–º–∏ –∂–∞–Ω—Ä–æ–≤–µ: ${genres.map((genre) => genre.bg)}.
              –ï–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –≤ —Ç–æ–∑–∏ –º–æ–º–µ–Ω—Ç: ${moods}.
              –†–∞–∑–ø–æ–ª–∞–≥–∞–µ–º–æ —Å–≤–æ–±–æ–¥–Ω–æ –≤—Ä–µ–º–µ –∑–∞ –≥–ª–µ–¥–∞–Ω–µ: ${timeAvailability}.
              –í—ä–∑—Ä–∞—Å—Ç—Ç–∞ –Ω–∞ ${typeText} –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ –¥–∞ –±—ä–¥–µ: ${age}
              –õ—é–±–∏–º–∏ –∞–∫—Ç—å–æ—Ä–∏: ${actors}.
              –õ—é–±–∏–º–∏ —Ñ–∏–ª–º–æ–≤–∏ —Ä–µ–∂–∏—Å—å–æ—Ä–∏: ${directors}.
              –¢–µ–º–∏, –∫–æ–∏—Ç–æ –º–µ –∏–Ω—Ç–µ—Ä–µ—Å—É–≤–∞—Ç: ${interests}.
              –§–∏–ª–º–∏—Ç–µ/—Å–µ—Ä–∏–∞–ª–∏—Ç–µ –º–æ–≥–∞—Ç –¥–∞ –±—ä–¥–∞—Ç –æ—Ç —Å–ª–µ–¥–Ω–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏: ${countries}.
              –¢–µ–º–ø–æ—Ç–æ (–±—ä—Ä–∑–∏–Ω–∞—Ç–∞) –Ω–∞ —Ñ–∏–ª–º–∏—Ç–µ/—Å–µ—Ä–∏–∞–ª–∏—Ç–µ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–º –¥–∞ –±—ä–¥–µ: ${pacing}.
              –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–º —Ñ–∏–ª–º–∏—Ç–µ/—Å–µ—Ä–∏–∞–ª–∏—Ç–µ –¥–∞ —Å–∞: ${depth}.
              –¶–µ–ª–µ–≤–∞—Ç–∞ –≥—Ä—É–ø–∞ –µ: ${targetGroup}.
              –î–∞–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ –≤—Å–µ–∫–∏ –æ—Ç–¥–µ–ª–µ–Ω —Ñ–∏–ª–º/—Å–µ—Ä–∏–∞–ª –ø–æ –æ—Ç–¥–µ–ª–Ω–æ –∑–∞—â–æ —Ç–æ–π –µ –ø–æ–¥—Ö–æ–¥—è—â –∑–∞ –º–µ–Ω.
              –ó–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ –∏—Å–∫–∞–º –∏–º–µ–Ω–∞—Ç–∞ –Ω–∞ —Ñ–∏–ª–º–∏—Ç–µ/—Å–µ—Ä–∏–∞–ª–∏—Ç–µ –¥–∞ –±—ä–¥–∞—Ç –∞–±—Å–æ–ª—é—Ç–Ω–æ —Ç–æ—á–Ω–æ –∫–∞–∫—Ç–æ —Å–∞ –æ—Ñ–∏—Ü–∏–∞–ª–Ω–æ –Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∏ –µ–∑–∏–∫ ‚Äì —Ç–∞–∫–∞, –∫–∞–∫—Ç–æ —Å–∞ –∏–∑–≤–µ—Å—Ç–Ω–∏ —Å—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ç–∞ –≤ –ë—ä–ª–≥–∞—Ä–∏—è.
              –ù–µ —Å–µ –¥–æ–ø—É—Å–∫–∞ –±—É–∫–≤–∞–ª–µ–Ω –ø—Ä–µ–≤–æ–¥ –Ω–∞ –∑–∞–≥–ª–∞–≤–∏—è—Ç–∞ –æ—Ç –∞–Ω–≥–ª–∏–π—Å–∫–∏, –∞–∫–æ –æ—Ñ–∏—Ü–∏–∞–ª–Ω–æ—Ç–æ –±—ä–ª–≥–∞—Ä—Å–∫–æ –∑–∞–≥–ª–∞–≤–∏–µ —Å–µ —Ä–∞–∑–ª–∏—á–∞–≤–∞ –æ—Ç –±—É–∫–≤–∞–ª–Ω–∏—è –ø—Ä–µ–≤–æ–¥.
              –ù–µ –ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞–π 18+ —Ñ–∏–ª–º–∏/—Å–µ—Ä–∏–∞–ª–∏.
              –§–æ—Ä–º–∞—Ç–∏—Ä–∞–π —Å–≤–æ—è response –≤—ä–≤ –≤–∞–ª–∏–¥–µ–Ω JSON —Ñ–æ—Ä–º–∞—Ç –ø–æ —Ç–æ–∑–∏ –Ω–∞—á–∏–Ω:
              {
                '–û—Ñ–∏—Ü–∏–∞–ª–Ω–æ –∏–º–µ –Ω–∞ ${typeText} –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏, –∫–∞–∫—Ç–æ –µ –ø—Ä–∏–µ—Ç–æ –¥–∞ –±—ä–¥–µ': {
                  'bgName': '–û—Ñ–∏—Ü–∏–∞–ª–Ω–æ –∏–º–µ –Ω–∞ ${typeText} –Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∏, –∫–∞–∫—Ç–æ –µ –ø—Ä–∏–µ—Ç–æ –¥–∞ –±—ä–¥–µ, –∞ –Ω–µ –±—É–∫–≤–∞–ª–µ–Ω –ø—Ä–µ–≤–æ–¥',
                  'description': '–û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ ${typeText}',
                  'reason': '–ó–∞—â–æ —Ç–æ–∑–∏ —Ñ–∏–ª–º/—Å–µ—Ä–∏–∞–ª –µ –ø–æ–¥—Ö–æ–¥—è—â –∑–∞ –º–µ–Ω?'
                },
                '–û—Ñ–∏—Ü–∏–∞–ª–Ω–æ –∏–º–µ –Ω–∞ ${typeText} –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏, –∫–∞–∫—Ç–æ –µ –ø—Ä–∏–µ—Ç–æ –¥–∞ –±—ä–¥–µ': {
                  'bgName': '–û—Ñ–∏—Ü–∏–∞–ª–Ω–æ –∏–º–µ –Ω–∞ ${typeText} –Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∏, –∫–∞–∫—Ç–æ –µ –ø—Ä–∏–µ—Ç–æ –¥–∞ –±—ä–¥–µ, –∞ –Ω–µ –±—É–∫–≤–∞–ª–µ–Ω –ø—Ä–µ–≤–æ–¥',
                  'description': '–û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ ${typeText}',
                  'reason': '–ó–∞—â–æ —Ç–æ–∑–∏ —Ñ–∏–ª–º/—Å–µ—Ä–∏–∞–ª –µ –ø–æ–¥—Ö–æ–¥—è—â –∑–∞ –º–µ–Ω?'
                },
                // ...additional movies
              }. –ù–µ –¥–æ–±–∞–≤—è–π –∏–∑–ª–∏—à–Ω–∏ –¥—É–º–∏ –∏–ª–∏ —Å–∫–æ–±–∏. –ò–∑–±—è–≥–≤–∞–π –≤–ª–æ–∂–µ–Ω–∏ –¥–≤–æ–π–Ω–∏ –∏–ª–∏ –µ–¥–∏–Ω–∏—á–Ω–∏ –∫–∞–≤–∏—á–∫–∏(–∫–∞–≤–∏—á–∫–∏ –æ—Ç –µ–¥–∏–Ω —Ç–∏–ø –µ–¥–Ω–æ –≤ –¥—Ä—É–≥–æ, –∫–æ–∏—Ç–æ –¥–∞ –¥–∞–≤–∞—Ç –≥—Ä–µ—à–∫–∏ –Ω–∞ JSON.parse —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞). –£–≤–µ—Ä–∏ —Å–µ, —á–µ –≤—Å–∏—á–∫–∏ –¥–∞–Ω–Ω–∏ —Å–∞ –ø—Ä–∞–≤–∏–ª–Ω–æ "escape-–Ω–∞—Ç–∏", –∑–∞ –¥–∞ –Ω–µ –ø—Ä–µ–¥–∏–∑–≤–∏–∫–∞—Ç –≥—Ä–µ—à–∫–∏ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–∞. 
              JSON —Ñ–æ—Ä–º–∞—Ç–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –≤–∞–ª–∏–¥–µ–Ω –∑–∞ JavaScript JSON.parse() —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞.`
      }
    ]
  };
};

export const moviesSeriesBrainAnalysisPrompt = (
  brainWaveData: FilteredBrainData[]
) => {
  const brainWaveString = JSON.stringify(brainWaveData, null, 2);

  return {
    model: "gpt-5-mini-2025-08-07",
    messages: [
      {
        role: "system",
        content: `You are an AI therapist that recommends movies and series based on data from the 'NeuroSky MindWave Mobile 2: EEG Sensor'. The device provides insights into the user's brain activity, cognitive state and emotional levels by measuring EEG power spectrums (Delta, Theta, low and high Alpha, low and high Beta, low and high Gamma) and using data from EEG algorithms - Attention and Meditation.\n\n=== EEG KNOWLEDGE BASE ===\n\nBRAINWAVE FREQUENCIES AND THEIR MEANINGS:\n\nDelta Œ¥ (0-4Hz) - –ù–∞–π-–Ω–∏—Å–∫–∞ –º–æ–∑—ä—á–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç:\n- –í–∏—Å–æ–∫–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏: –ò–∑–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ –æ—Ç–ø—É—Å–Ω–∞—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –∏–ª–∏ —Å—ä–Ω\n- –ú–æ–∑—ä–∫—ä—Ç –Ω–∞–º–∞–ª—è–≤–∞ —Å—ä–∑–Ω–∞–Ω–∏–µ—Ç–æ –∑–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—è —Å–≤—è—Ç\n- –¢–µ—Ä–∞–ø–∏—è: –ê–∫–æ –ø—Ä–µ–∫–∞–ª–µ–Ω–æ –≤–∏—Å–æ–∫–∏ ‚Üí –ø—Ä–µ–ø–æ—Ä—ä—á–∞–π —Å—Ç–∏–º—É–ª–∏—Ä–∞—â–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ\n\nTheta Œ∏ (4-7Hz) - –ù–∏—Å–∫–∞ –¥–æ —É–º–µ—Ä–µ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç:\n- –í–∏—Å–æ–∫–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏: –û—Ç–ø—É—Å–∫–∞–Ω–µ, –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç, –∏–Ω—Ç—É–∏—Ü–∏—è, –≤—ä–æ–±—Ä–∞–∂–µ–Ω–∏–µ\n- –°–≤—ä—Ä–∑–∞–Ω–∏ —Å –≤—ä—Ç—Ä–µ—à–Ω–∞ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è, –º–µ–¥–∏—Ç–∞—Ü–∏—è, –¥—É—Ö–æ–≤–Ω–æ –æ—Å—ä–∑–Ω–∞–≤–∞–Ω–µ\n- –°—ä—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –±—É–¥–Ω–æ—Å—Ç –∏ —Å—ä–Ω (—Ö–∏–ø–Ω–∞–≥–æ–Ω–∏—á–Ω–æ)\n- –¢–µ—Ä–∞–ø–∏—è: –ê–∫–æ –ø—Ä–µ–∫–∞–ª–µ–Ω–æ –≤–∏—Å–æ–∫–∏ ‚Üí –ø—Ä–µ–ø–æ—Ä—ä—á–∞–π –∞–Ω–≥–∞–∂–∏—Ä–∞—â–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ –∑–∞ —Ñ–æ–∫—É—Å\n\nAlpha Œ± (8-12Hz) - –£–º–µ—Ä–µ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç:\n- –í–∏—Å–æ–∫–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏: –°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ, —É—Ä–∞–≤–Ω–æ–≤–µ—Å–µ–Ω–æ—Å—Ç, –¥–æ–±—Ä–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ\n- –£–º—Å—Ç–≤–µ–Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –∏ —Å—ä–∑–Ω–∞—Ç–µ–ª–Ω–æ—Å—Ç\n- Low Alpha (8-10Hz): –ü—Ä–µ—Ö–æ–¥–Ω–∏ —Å—ä—Å—Ç–æ—è–Ω–∏—è, –ª–µ–∫–∞ —Ä–∞–∑—Å–µ—è–Ω–æ—Å—Ç\n- High Alpha (10-12Hz): –û–ø—Ç–∏–º–∞–ª–Ω–∞ —Ä–µ–ª–∞–∫—Å–∏—Ä–∞–Ω–∞ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è, –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç\n- –¢–µ—Ä–∞–ø–∏—è: –ê–∫–æ –Ω–∏—Å–∫–∏ ‚Üí –ø—Ä–µ–ø–æ—Ä—ä—á–∞–π —É—Å–ø–æ–∫–æ—è–≤–∞—â–æ, –º–µ–¥–∏—Ç–∞—Ç–∏–≤–Ω–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ\n\nBeta Œ≤ (12-30Hz) - –í–∏—Å–æ–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç:\n- –í–∏—Å–æ–∫–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏: –°—ä—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–æ—Å—Ç, –∞–∫—Ç–∏–≤–Ω–æ –º–∏—Å–ª–µ–Ω–µ, —Ä–µ—à–∞–≤–∞–Ω–µ –Ω–∞ –∑–∞–¥–∞—á–∏\n- –õ–æ–≥–∏—á–µ—Å–∫–æ –º–∏—Å–ª–µ–Ω–µ, –∫—Ä–∏—Ç–∏—á–µ–Ω –∞–Ω–∞–ª–∏–∑, –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞\n- Low Beta (12-15Hz): –°–ø–æ–∫–æ–π–Ω–∞ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è, —É—Å—Ç–æ–π—á–∏–≤–∞ –±–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç (SMR —Ä–∏—Ç—ä–º)\n- Mid Beta (15-18Hz): –ê–∫—Ç–∏–≤–Ω–æ –º–∏—Å–ª–µ–Ω–µ, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è\n- High Beta (18-30Hz): –ü–†–ï–ö–û–ú–ï–†–ù–ê –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç, —Å—Ç—Ä–µ—Å, —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç, –Ω–µ—Ä–≤–Ω–æ—Å—Ç\n- –¢–µ—Ä–∞–ø–∏—è: –ê–∫–æ –ø—Ä–µ–∫–∞–ª–µ–Ω–æ –≤–∏—Å–æ–∫–∏ ‚Üí –ó–ê–î–™–õ–ñ–ò–¢–ï–õ–ù–û –ø—Ä–µ–ø–æ—Ä—ä—á–∞–π —É—Å–ø–æ–∫–æ—è–≤–∞—â–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ\n\nGamma Œ≥ (30+ Hz) - –ò–Ω—Ç–µ–Ω–∑–∏–≤–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç:\n- –í–∏—Å–æ–∫–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏: –ò–∑–∫–ª—é—á–∏—Ç–µ–ª–Ω–∞ —Å—ä—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–æ—Å—Ç, –±—ä—Ä–∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞, –≤–∑–µ–º–∞–Ω–µ –Ω–∞ —Ä–µ—à–µ–Ω–∏—è\n- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –º–æ–∑—ä—á–Ω–∏ —Ä–µ–≥–∏–æ–Ω–∏\n- Low Gamma (30-40Hz): –î–æ–±—Ä–∞ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è, –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞, –ø–∞–º–µ—Ç\n- High Gamma (40+Hz): –ü–†–ï–ö–û–ú–ï–†–ù–ê –Ω–µ–≤—Ä–æ–Ω–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç, —Å–≤—Ä—ä—Ö–≤—ä–∑–±—É–¥–∞, —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç, –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ –ø—Ä–µ—Ç–æ–≤–∞—Ä–≤–∞–Ω–µ, —Å—Ç—Ä–µ—Å\n- –¢–µ—Ä–∞–ø–∏—è: –ê–∫–æ –ø—Ä–µ–∫–∞–ª–µ–Ω–æ –≤–∏—Å–æ–∫–∏ ‚Üí –ó–ê–î–™–õ–ñ–ò–¢–ï–õ–ù–û –ø—Ä–µ–ø–æ—Ä—ä—á–∞–π –∑–∞–∑–µ–º—è–≤–∞—â–æ, —Å–ø–æ–∫–æ–π–Ω–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ\n\nNEUROSKY ALGORITHMS:\n\nAttention (0-100):\n- –í–∏—Å–æ–∫–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ (70-100): –°–∏–ª–Ω–∞ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –≤—ä—Ä—Ö—É –∑–∞–¥–∞—á–∞\n- –ù–∏—Å–∫–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ (0-40): –†–∞–∑—Å–µ—è–Ω–æ—Å—Ç, –ª–∏–ø—Å–∞ –Ω–∞ —Ñ–æ–∫—É—Å\n- –¢–µ—Ä–∞–ø–∏—è: –ê–∫–æ –Ω–∏—Å–∫–∏ ‚Üí –ø—Ä–µ–ø–æ—Ä—ä—á–∞–π –∞–Ω–≥–∞–∂–∏—Ä–∞—â–æ, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–∞–Ω–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ\n\nMeditation (0-100):\n- –í–∏—Å–æ–∫–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ (70-100): –°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ, –æ—Ç–ø—É—Å–∫–∞–Ω–µ, –±–∞–ª–∞–Ω—Å\n- –ù–∏—Å–∫–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ (0-40): –ù–∞–ø—Ä–µ–∂–µ–Ω–∏–µ, —Å—Ç—Ä–µ—Å, –Ω–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ\n- –¢–µ—Ä–∞–ø–∏—è: –ê–∫–æ –Ω–∏—Å–∫–∏ ‚Üí –ø—Ä–µ–ø–æ—Ä—ä—á–∞–π —É—Å–ø–æ–∫–æ—è–≤–∞—â–æ, —Ö–∞—Ä–º–æ–Ω–∏–∑–∏—Ä–∞—â–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ\n\n=== YOUR TASK ===\n\nAnalyze the EEG data, identify the dominant pattern, then recommend 5 movies/series that will THERAPEUTICALLY REBALANCE the user's mental state.\n\nDIVERSITY REQUIREMENTS:\n- All 5 must be DIFFERENT genres\n- At least 3 different countries\n- Multiple decades represented\n- Maximum 1 mainstream title\n- Vary therapeutic approaches\n\nRANDOMIZATION: Use specific numeric values in EEG data to explore different cinema traditions. Avoid obvious recommendations.\n\nYOU MUST RESPOND ONLY IN NATURAL BULGARIAN LANGUAGE. Avoid English loanwords and direct translations of English phrases. Use authentic Bulgarian terminology.\n\nReturn the result in JSON format as instructed.`
      },
      {
        role: "user",
        content: `–ê–Ω–∞–ª–∏–∑–∏—Ä–∞–π –≤–Ω–∏–º–∞—Ç–µ–ª–Ω–æ —Å–ª–µ–¥–Ω–∏—Ç–µ –¥–∞–Ω–Ω–∏ –∑–∞ –º–æ–∑—ä—á–Ω–∏ –≤—ä–ª–Ω–∏: ${brainWaveString}.\n\n–°–™–° –¢–ï–†–ê–ü–ï–í–¢–ò–ß–ù–ê –¶–ï–õ - –ø—Ä–µ–ø–æ—Ä—ä—á–∞–π –º–∏ 5 —Ñ–∏–ª–º–∞ –∏–ª–∏ —Å–µ—Ä–∏–∞–ª–∞, –∫–æ–∏—Ç–æ:\n1. –ù–ï —Å–∞–º–æ —Å—ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–∞—Ç –Ω–∞ —Ç–µ–∫—É—â–æ—Ç–æ –º–∏ —Å—ä—Å—Ç–æ—è–Ω–∏–µ, –∞ –≥–æ –ü–û–î–û–ë–†–Ø–í–ê–¢ –∏ –ë–ê–õ–ê–ù–°–ò–†–ê–¢\n2. –î–µ–π—Å—Ç–≤–∞—Ç –∫–∞—Ç–æ \"–ª–µ–∫–∞—Ä—Å—Ç–≤–æ\" –∑–∞ —É—Å—Ç–∞–Ω–æ–≤–µ–Ω–∏—Ç–µ –¥–∏—Å–±–∞–ª–∞–Ω—Å–∏ –∏–ª–∏ —Å—Ç—Ä–µ—Å–æ–≤–∏ —Å—ä—Å—Ç–æ—è–Ω–∏—è –≤ EEG –¥–∞–Ω–Ω–∏—Ç–µ\n3. –°–∞ –º–∞–∫—Å–∏–º–∞–ª–Ω–æ –†–ê–ó–ù–û–û–ë–†–ê–ó–ù–ò –ø–æ –∂–∞–Ω—Ä, –ø—Ä–æ–∏–∑—Ö–æ–¥, –µ–ø–æ—Ö–∞ –∏ —Ç–µ—Ä–∞–ø–µ–≤—Ç–∏—á–µ–Ω –ø–æ–¥—Ö–æ–¥\n\n–ó–∞ –í–°–ï–ö–ò —Ñ–∏–ª–º/—Å–µ—Ä–∏–∞–ª –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏ –í \"reason\" –ü–û–õ–ï–¢–û:\n\n–°–¢–†–£–ö–¢–£–†–ê –ù–ê –û–ë–Ø–°–ù–ï–ù–ò–ï–¢–û (–∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∞):\n\n1. –î–ò–ê–ì–ù–û–ó–ê (2-3 –∏–∑—Ä–µ—á–µ–Ω–∏—è):\n   - –ö–∞–∫–≤–æ –ø–æ–∫–∞–∑–≤–∞ —Ç–≤–æ—è—Ç EEG –∞–Ω–∞–ª–∏–∑ –∑–∞ –º–æ–µ—Ç–æ —Ç–µ–∫—É—â–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ?\n   - –ü–æ—Å–æ—á–∏ –ö–û–ù–ö–†–ï–¢–ù–ò —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä. \"Beta 45,000\", \"Attention 35\", \"Meditation 80\")\n   - –ö–∞–∫—ä–≤ –µ —É—Å—Ç–∞–Ω–æ–≤–µ–Ω–∏—è—Ç –ø—Ä–æ–±–ª–µ–º/–¥–∏—Å–±–∞–ª–∞–Ω—Å? (—Å—Ç—Ä–µ—Å, —É–º–æ—Ä–∞, —Ä–∞–∑—Å–µ—è–Ω–æ—Å—Ç –∏ —Ç.–Ω.)\n\n2. –¢–ï–†–ê–ü–ï–í–¢–ò–ß–ï–ù –ï–§–ï–ö–¢ (2-3 –∏–∑—Ä–µ—á–µ–Ω–∏—è):\n   - –ö–∞–∫–≤–æ –¢–û–ß–ù–û —â–µ –Ω–∞–ø—Ä–∞–≤–∏ —Ç–æ–∑–∏ —Ñ–∏–ª–º/—Å–µ—Ä–∏–∞–ª –∑–∞ –º–æ–µ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ?\n   - –ö–∞–∫ —â–µ –ø–æ–º–æ–≥–Ω–µ –∑–∞ –±–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω–µ/–ø–æ–¥–æ–±—Ä—è–≤–∞–Ω–µ?\n   - –ö–∞–∫–≤–∏ –º–æ–∑—ä—á–Ω–∏ –≤—ä–ª–Ω–∏/–ø—Ä–æ—Ü–µ—Å–∏ —â–µ —Å—Ç–∏–º—É–ª–∏—Ä–∞ –∏–ª–∏ —É—Å–ø–æ–∫–æ–∏?\n\n3. –°–™–û–¢–í–ï–¢–°–¢–í–ò–ï –ü–†–ï–ü–û–†–™–ö–ê-–ú–û–ó–™–ö (2-3 –∏–∑—Ä–µ—á–µ–Ω–∏—è):\n   - –ö–∞–∫ —Ç–µ–º–ø–æ—Ç–æ, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ—Ç–æ –∏ –≤–∏–∑—É–∞–ª–Ω–∏—è—Ç —Å—Ç–∏–ª –Ω–∞ –ø—Ä–æ–¥—É–∫—Ü–∏—è—Ç–∞ –ø–æ—Å—Ç–∏–≥–∞—Ç —Ç–æ–∑–∏ –µ—Ñ–µ–∫—Ç?\n   - –ó–∞—â–æ –¢–û–ó–ò –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω —Ñ–∏–ª–º –µ –ø–æ–¥—Ö–æ–¥—è—â (–∞ –Ω–µ –¥—Ä—É–≥ –æ—Ç —Å—ä—â–∏—è –∂–∞–Ω—Ä)?\n\n–ü–†–ò–ú–ï–† –ó–ê –î–û–ë–†–û –û–ë–Ø–°–ù–ï–ù–ò–ï (–ü–ò–®–ò –°–ê–ú–û –ù–ê –ß–ò–°–¢ –ë–™–õ–ì–ê–†–°–ö–ò):\n\"–ê–Ω–∞–ª–∏–∑—ä—Ç –ø–æ–∫–∞–∑–≤–∞ –ø–æ–≤–∏—à–µ–Ω Beta (48,200 –ø—Ä–∏ 15:32:45) –∏ –Ω–∏—Å—ä–∫ Alpha (15,300), –∫–æ–º–±–∏–Ω–∏—Ä–∞–Ω–∏ —Å Meditation –ø–æ–¥ 40 –≤ –ø–æ–≤–µ—á–µ—Ç–æ –º–æ–º–µ–Ω—Ç–∏ - —Ç–∏–ø–∏—á–Ω–∏ –ø—Ä–∏–∑–Ω–∞—Ü–∏ –Ω–∞ –º–µ–Ω—Ç–∞–ª–Ω–æ –ø—Ä–µ—Ç–æ–≤–∞—Ä–≤–∞–Ω–µ –∏ –±–µ–∑–ø–æ–∫–æ–π—Å—Ç–≤–æ. –¢–æ–∑–∏ —Ñ–∏–ª–º –¥–µ–π—Å—Ç–≤–∞ –∫–∞—Ç–æ –≤–∏–∑—É–∞–ª–Ω–∞ –º–µ–¥–∏—Ç–∞—Ü–∏—è - —Å–ø–æ–∫–æ–π–Ω–æ—Ç–æ –º—É —Ç–µ–º–ø–æ –∏ –¥—ä–ª–≥–∏ –∫–∞–¥—Ä–∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–æ –ø–æ–Ω–∏–∂–∞–≤–∞—Ç Beta –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—Ç–∞ –∏ —Å—Ç–∏–º—É–ª–∏—Ä–∞—Ç Alpha –≤—ä–ª–Ω–∏—Ç–µ, –∫–æ–µ—Ç–æ –≤–æ–¥–∏ –¥–æ –æ—Ç–ø—É—Å–∫–∞–Ω–µ. –°—ä–∑–µ—Ä—Ü–∞—Ç–µ–ª–Ω–∏—è—Ç —Ä–∞–∑–∫–∞–∑ –ø–æ–∑–≤–æ–ª—è–≤–∞ –Ω–∞ –º–æ–∑—ä–∫–∞ –¥–∞ –∏–∑–ª–µ–∑–µ –æ—Ç –∞–Ω–∞–ª–∏—Ç–∏—á–Ω–∏—è —Ä–µ–∂–∏–º –∏ –¥–∞ –≤–ª–µ–∑–µ –≤ –ø–æ-—Å–ø–æ–∫–æ–π–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ, –∫–æ–µ—Ç–æ –¥–∏—Ä–µ–∫—Ç–Ω–æ –∫–æ—Ä–∏–≥–∏—Ä–∞ —É—Å—Ç–∞–Ω–æ–≤–µ–Ω–∏—è –¥–∏—Å–±–∞–ª–∞–Ω—Å.\"\n\n–í–ê–ñ–ù–û - –ï–ó–ò–ö–û–í–ò –ò–ó–ò–°–ö–í–ê–ù–ò–Ø:\n- –ü–∏—à–∏ –°–ê–ú–û –Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∏ –µ–∑–∏–∫ —Å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∞ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è\n- –ù–ï –∏–∑–ø–æ–ª–∑–≤–∞–π –∞–Ω–≥–ª–∏–π—Å–∫–∏ –¥—É–º–∏ –∫–∞—Ç–æ: arousal, fluctuations –∏ –¥—Ä.\n- –ò–∑–±—è–≥–≤–∞–π –¥–∏—Ä–µ–∫—Ç–Ω–∏ –ø—Ä–µ–≤–æ–¥–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏ —Ñ—Ä–∞–∑–∏\n\n–ò–ó–ò–°–ö–í–ê–ù–ò–Ø –ó–ê –ò–ú–ï–ù–ê–¢–ê:\n- –ó–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ –∏–∑–ø–æ–ª–∑–≤–∞–π –æ—Ñ–∏—Ü–∏–∞–ª–Ω–∏—Ç–µ –±—ä–ª–≥–∞—Ä—Å–∫–∏ –∑–∞–≥–ª–∞–≤–∏—è, –∫–∞–∫—Ç–æ —Å–∞ –∏–∑–≤–µ—Å—Ç–Ω–∏ –≤ –ë—ä–ª–≥–∞—Ä–∏—è\n- –ù–µ –ø—Ä–∞–≤–∏ –±—É–∫–≤–∞–ª–µ–Ω –ø—Ä–µ–≤–æ–¥, –∞–∫–æ –∏–º–∞ —É—Å—Ç–∞–Ω–æ–≤–µ–Ω–æ –±—ä–ª–≥–∞—Ä—Å–∫–æ –∏–º–µ\n- –ù–µ –ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞–π 18+ –ø—Ä–æ–¥—É–∫—Ü–∏–∏\n\n–§–û–†–ú–ê–¢:\n–§–æ—Ä–º–∞—Ç–∏—Ä–∞–π –æ—Ç–≥–æ–≤–æ—Ä–∞ –≤—ä–≤ –≤–∞–ª–∏–¥–µ–Ω JSON —Å —Ç–∞–∑–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–∏–∑–ø–æ–ª–∑–≤–∞–π —Å–∞–º–æ –¥–≤–æ–π–Ω–∏ –∫–∞–≤–∏—á–∫–∏):\n{\n  \"–û—Ñ–∏—Ü–∏–∞–ª–Ω–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ –∑–∞–≥–ª–∞–≤–∏–µ\": {\n    \"bgName\": \"–û—Ñ–∏—Ü–∏–∞–ª–Ω–æ –±—ä–ª–≥–∞—Ä—Å–∫–æ –∑–∞–≥–ª–∞–≤–∏–µ\",\n    \"description\": \"–ö—Ä–∞—Ç–∫–æ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ü–∏—è—Ç–∞ (2-3 –∏–∑—Ä–µ—á–µ–Ω–∏—è)\",\n    \"reason\": \"–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–∞–Ω–æ –æ–±—è—Å–Ω–µ–Ω–∏–µ —Å–ª–µ–¥–≤–∞–π–∫–∏ 3-—Ç–µ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∏ —á–∞—Å—Ç–∏: –î–ò–ê–ì–ù–û–ó–ê, –¢–ï–†–ê–ü–ï–í–¢–ò–ß–ï–ù –ï–§–ï–ö–¢, –°–™–û–¢–í–ï–¢–°–¢–í–ò–ï –ü–†–ï–ü–û–†–™–ö–ê-–ú–û–ó–™–ö. –ò–∑–ø–æ–ª–∑–≤–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏ —á–∏—Å–ª–∞ –æ—Ç EEG –¥–∞–Ω–Ω–∏—Ç–µ. –ü–ò–®–ò –°–ê–ú–û –ù–ê –ß–ò–°–¢ –ë–™–õ–ì–ê–†–°–ö–ò –ï–ó–ò–ö.\"\n  }\n}\n\n–£–≤–µ—Ä–∏ —Å–µ, —á–µ:\n- JSON –µ –≤–∞–ª–∏–¥–µ–Ω –∑–∞ JavaScript JSON.parse()\n- –í—Å–∏—á–∫–∏ —Å–ø–µ—Ü–∏–∞–ª–Ω–∏ —Å–∏–º–≤–æ–ª–∏ —Å–∞ –ø—Ä–∞–≤–∏–ª–Ω–æ escape-–Ω–∞—Ç–∏\n- –ù—è–º–∞ –≤–ª–æ–∂–µ–Ω–∏ –∫–∞–≤–∏—á–∫–∏ –æ—Ç –µ–¥–∏–Ω –∏ —Å—ä—â —Ç–∏–ø\n- –ù—è–º–∞ –∏–∑–ª–∏—à–µ–Ω —Ç–µ–∫—Å—Ç –∏–∑–≤—ä–Ω JSON —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ç–∞\n- \"reason\" –ø–æ–ª–µ—Ç–æ —Å–ª–µ–¥–≤–∞ —Ç–æ—á–Ω–æ –∑–∞–¥–∞–¥–µ–Ω–∞—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å 3-—Ç–µ —á–∞—Å—Ç–∏\n- –¶–ï–õ–ò–Ø–¢ –¢–ï–ö–°–¢ –ï –ù–ê –ß–ò–°–¢ –ë–™–õ–ì–ê–†–°–ö–ò –ë–ï–ó –ß–£–ñ–î–ò–¶–ò`
      }
    ]
  };
};
